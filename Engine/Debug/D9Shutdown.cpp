///////////////////////////////////////////////////////////////////////////////////////////////////
// D9Shutdown.cpp
///////////////////////////////////////////////////////////////////////////////////////////////////
#include "stdafx.h"
#include "D9Shutdown.h"

int d9Shutdown::m_fncount = 0;
d9ShutdownFn d9Shutdown::m_fn[D9_SHUTDOWN_FNMAX];

void d9Shutdown::Add( d9ShutdownFn fn )
{
	if(m_fncount>=D9_SHUTDOWN_FNMAX) return;
	m_fn[m_fncount] = fn;
	m_fncount++;
}

void d9Shutdown::Shutdown()
{
	for(int i=m_fncount-1;i>=0;i--)
		m_fn[i]();
}

///////////////////////////////////////////////////////////////////////////////////////////////////
